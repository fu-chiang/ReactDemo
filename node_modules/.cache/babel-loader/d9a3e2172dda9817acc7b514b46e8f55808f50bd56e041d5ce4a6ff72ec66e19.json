{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/A3423/Desktop/Project/react-cra/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/A3423/Desktop/Project/react-cra/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/A3423/Desktop/Project/react-cra/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useParams}from'react-router-dom';import axios from'axios';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Success(){var _useParams=useParams(),orderId=_useParams.orderId;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),orderData=_useState2[0],setOrderData=_useState2[1];var getCart=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(orderId){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/v2/api/\".concat(process.env.REACT_APP_API_PATH,\"/order/\").concat(orderId));case 2:res=_context.sent;console.log(res);setOrderData(res.data.order);case 5:case\"end\":return _context.stop();}},_callee);}));return function getCart(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getCart(orderId);},[orderId]);return/*#__PURE__*/_jsx(\"div\",{className:\"container full-height\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 mb-7\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u9910\\u9EDE\\u9078\\u8CFC\\u6210\\u529F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"\\u89AA\\u611B\\u7684\\u9867\\u5BA2\\uFF0C\\u611F\\u8B1D\\u60A8\\u5728\\u672C\\u5E73\\u53F0\\u8A02\\u9910\\u3002\\u6211\\u5011\\u975E\\u5E38\\u611F\\u6FC0\\u60A8\\u5C0D\\u6211\\u5011\\u7684\\u4FE1\\u4EFB\\u548C\\u652F\\u6301\\uFF0C\\u8B93\\u6211\\u5011\\u6709\\u6A5F\\u6703\\u70BA\\u60A8\\u63D0\\u4F9B\\u7F8E\\u5473\\u7684\\u9910\\u9EDE\\u548C\\u512A\\u8CEA\\u7684\\u670D\\u52D9\\u3002\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"\\u611F\\u8B1D\\u60A8\\u9078\\u64C7\\u672C\\u5E73\\u53F0\\uFF0C\\u795D\\u60A8\\u7528\\u9910\\u6109\\u5FEB\\uFF0C\\u751F\\u6D3B\\u6109\\u5FEB\\uFF01\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-outline-dark me-2 rounded-0 mb-4\",children:\"\\u56DE\\u5230\\u9996\\u9801\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card rounded-0 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header border-bottom-0 bg-white px-4 py-0\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\u9078\\u8CFC\\u9910\\u9EDE\\u7D30\\u7BC0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body px-4 py-0\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",children:[Object.values((orderData===null||orderData===void 0?void 0:orderData.products)||{}).map(function(item){return/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mt-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.product.imageUrl,alt:\"\",className:\"me-2\",style:{width:'60px',height:'60px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between fw-bold\",children:[/*#__PURE__*/_jsx(\"h5\",{children:item.product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"x\",item.qty]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-auto\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:/*#__PURE__*/_jsxs(\"small\",{children:[\"NT$\",item.product.price]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"NT$\",item.final_total]})]})]})]})},item.id);}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item px-0 pb-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 h4 fw-bold\",children:\"\\u7E3D\\u8A08\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 h4 fw-bold\",children:[\"NT$\",orderData.total]})]})})]})})]})})]})})});}export default Success;","map":{"version":3,"names":["Link","useParams","axios","useEffect","useState","Success","orderId","orderData","setOrderData","getCart","get","process","env","REACT_APP_API_PATH","res","console","log","data","order","Object","values","products","map","item","product","imageUrl","width","height","title","qty","price","final_total","id","total"],"sources":["C:/Users/A3423/Desktop/Project/react-cra/src/pages/front/Success.js"],"sourcesContent":["import { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nfunction Success() {\n  const { orderId } = useParams();\n  const [orderData, setOrderData] = useState({});\n\n  const getCart = async (orderId) => {\n    const res = await axios.get(\n      `/v2/api/${process.env.REACT_APP_API_PATH}/order/${orderId}`,\n    );\n    console.log(res);\n    setOrderData(res.data.order);\n  };\n\n  useEffect(() => {\n    getCart(orderId);\n  }, [orderId]);\n\n  return (\n    <div className='container full-height'>\n      <div className='mt-5 mb-7'>\n        <div className='row'>\n          <div className='col-md-6'>\n            <h2>餐點選購成功</h2>\n            <p className='text-muted'>\n              親愛的顧客，感謝您在本平台訂餐。我們非常感激您對我們的信任和支持，讓我們有機會為您提供美味的餐點和優質的服務。\n            </p>\n            <p className='text-muted'>\n              感謝您選擇本平台，祝您用餐愉快，生活愉快！\n            </p>\n            <Link to='/' className='btn btn-outline-dark me-2 rounded-0 mb-4'>\n              回到首頁\n            </Link>\n          </div>\n          <div className='col-md-6'>\n            <div className='card rounded-0 py-4'>\n              <div className='card-header border-bottom-0 bg-white px-4 py-0'>\n                <h2>選購餐點細節</h2>\n              </div>\n              <div className='card-body px-4 py-0'>\n                <ul className='list-group list-group-flush'>\n                  {Object.values(orderData?.products || {}).map((item) => {\n                    return (\n                      <li className='list-group-item px-0' key={item.id}>\n                        <div className='d-flex mt-2'>\n                          <img\n                            src={item.product.imageUrl}\n                            alt=''\n                            className='me-2'\n                            style={{ width: '60px', height: '60px' }}\n                          />\n                          <div className='w-100 d-flex flex-column'>\n                            <div className='d-flex justify-content-between fw-bold'>\n                              <h5>{item.product.title}</h5>\n                              <p className='mb-0'>x{item.qty}</p>\n                            </div>\n                            <div className='d-flex justify-content-between mt-auto'>\n                              <p className='text-muted mb-0'>\n                                <small>NT${item.product.price}</small>\n                              </p>\n                              <p className='mb-0'>NT${item.final_total}</p>\n                            </div>\n                          </div>\n                        </div>\n                      </li>\n                    );\n                  })}\n                  <li className='list-group-item px-0 pb-0'>\n                    <div className='d-flex justify-content-between mt-2'>\n                      <p className='mb-0 h4 fw-bold'>總計</p>\n                      <p className='mb-0 h4 fw-bold'>NT${orderData.total}</p>\n                    </div>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Success;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}