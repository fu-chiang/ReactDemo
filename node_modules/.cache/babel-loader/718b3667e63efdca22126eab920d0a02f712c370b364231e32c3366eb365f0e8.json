{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/A3423/Desktop/Project/react-cra/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/A3423/Desktop/Project/react-cra/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/A3423/Desktop/Project/react-cra/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import Pagination from'../../components/Pagination';import Loading from'../../components/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),pagination=_useState4[0],setPagination=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setLoading=_useState6[1];var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var page,productRes,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:page=_args.length>0&&_args[0]!==undefined?_args[0]:1;setLoading(true);_context.next=4;return axios.get(\"/v2/api/\".concat(process.env.REACT_APP_API_PATH,\"/products?page=\").concat(page));case 4:productRes=_context.sent;console.log(productRes);setProducts(productRes.data.products);setPagination(productRes.data.pagination);setLoading(false);case 9:case\"end\":return _context.stop();}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();useEffect(function(){getProducts(1);},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-md-5 mt-3 mb-7\",children:[/*#__PURE__*/_jsx(Loading,{isLoading:isLoading}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 mb-4 position-relative position-relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,className:\"card-img-top rounded-0 object-cover \",height:300,alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-2 mt-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),children:product.title})}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text mb-0\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-muted \",children:product.price})]})]})]})},product.id);})}),/*#__PURE__*/_jsx(\"nav\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Pagination,{pagination:pagination,changePage:getProducts})})]})})]})});}export default Products;","map":{"version":3,"names":["useEffect","useState","axios","Link","Pagination","Loading","Products","products","setProducts","pagination","setPagination","isLoading","setLoading","getProducts","page","get","process","env","REACT_APP_API_PATH","productRes","console","log","data","map","product","imageUrl","id","title","price"],"sources":["C:/Users/A3423/Desktop/Project/react-cra/src/pages/front/Products.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Pagination from '../../components/Pagination';\nimport Loading from '../../components/Loading';\n\nfunction Products() {\n  const [products, setProducts] = useState([]);\n  const [pagination, setPagination] = useState({});\n  const [isLoading, setLoading] = useState(false)\n\n  const getProducts = async (page = 1) => {\n    setLoading(true)\n    const productRes = await axios.get(\n      `/v2/api/${process.env.REACT_APP_API_PATH}/products?page=${page}`,\n    );\n    console.log(productRes);\n    setProducts(productRes.data.products);\n    setPagination(productRes.data.pagination);\n    setLoading(false)\n  };\n\n  useEffect(() => {\n    getProducts(1);\n  }, []);\n\n  return (\n    <>\n    <div className=\"container mt-md-5 mt-3 mb-7\">\n      <Loading isLoading={isLoading}/>\n      <div className=\"row\">\n        {/* <div className=\"col-md-4\">\n          <div className=\"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3\" id=\"accordionExample\">\n            <div className=\"card border-0\">\n              <div className=\"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0\" id=\"headingOne\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseOne\">\n                <div className=\"d-flex justify-content-between align-items-center pe-1\">\n                  <h4 className=\"mb-0\">\n                    Lorem ipsum\n                  </h4>\n                  <i className=\"fas fa-chevron-down\"></i>\n                </div>\n              </div>\n              <div id=\"collapseOne\" className=\"collapse show\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\n                <div className=\"card-body py-0\">\n                  <ul className=\"list-unstyled\">\n                    <li><a href=\"#\" className=\"py-2 d-block text-muted\">Lorem ipsum</a></li>\n                    <li><a href=\"#\" className=\"py-2 d-block text-muted\">Lorem ipsum</a></li>\n                    <li><a href=\"#\" className=\"py-2 d-block text-muted\">Lorem ipsum</a></li>\n                    <li><a href=\"#\" className=\"py-2 d-block text-muted\">Lorem ipsum</a></li>\n                    <li><a href=\"#\" className=\"py-2 d-block text-muted\">Lorem ipsum</a></li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"card border-0\">\n              <div className=\"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0\" id=\"headingTwo\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseTwo\">\n                <div className=\"d-flex justify-content-between align-items-center pe-1\">\n                  <h4 className=\"mb-0\">\n                    Lorem ipsum\n                  </h4>\n                  <i className=\"fas fa-chevron-down\"></i>\n                </div>\n              </div>\n              <div id=\"collapseTwo\" className=\"collapse\" aria-labelledby=\"headingTwo\" data-bs-parent=\"#accordionExample\">\n                <div className=\"card-body py-0\">\n                  <ul className=\"list-unstyled\">\n                    <li><a href=\"#\" className=\"py-2 d-block text-muted\">Lorem ipsum</a></li>\n\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"card border-0\">\n              <div className=\"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0\" id=\"headingThree\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseThree\">\n                <div className=\"d-flex justify-content-between align-items-center pe-1\">\n                  <h4 className=\"mb-0\">\n                    Lorem ipsum\n                  </h4>\n                  <i className=\"fas fa-chevron-down\"></i>\n                </div>\n              </div>\n              <div id=\"collapseThree\" className=\"collapse\" aria-labelledby=\"headingThree\" data-bs-parent=\"#accordionExample\">\n                <div className=\"card-body py-0\">\n                  <ul className=\"list-unstyled\">\n                    <li><a href=\"#\" className=\"py-2 d-block text-muted\">Lorem ipsum</a></li>\n\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div> */}\n          <div className=\"col-md-12\">\n            <div className=\"row\">\n              {products.map((product)=>{\n                return(            \n                <div className=\"col-md-3\" key={product.id}>\n                  <div className=\"card border-0 mb-4 position-relative position-relative\">\n                    <img src={product.imageUrl} className=\"card-img-top rounded-0 object-cover \" height={300} alt=\"...\"/>\n                    <div className=\"card-body p-0\">\n                      <h4 className=\"mb-2 mt-2\">\n                        <Link to={`/product/${product.id}`}>{product.title}</Link>\n                        </h4>\n                      <p className=\"card-text mb-0\">{/*{product.content}*/} <span className=\"text-muted \">{product.price}</span></p> \n                      {/* <p className=\"text-muted mt-2\"></p> */}\n                    </div>\n                  </div>\n                </div>)\n              })}\n            </div>\n            <nav className=\"d-flex justify-content-center\">\n            <Pagination pagination={pagination} changePage={getProducts} />\n            </nav>\n          </div>\n        </div>\n    </div>\n    {/* <div className=\"bg-light py-4\">\n          <div className=\"container\">\n            <div className=\"d-flex flex-column flex-md-row justify-content-between align-items-md-center align-items-start\">\n              <p className=\"mb-0 fw-bold\">Lorem ipsum dolor sit amet.</p>\n              <div className=\"input-group w-md-50 mt-md-0 mt-3\">\n                <input type=\"text\" className=\"form-control rounded-0\" placeholder=\"\" />\n                <div className=\"input-group-append\">\n                  <button className=\"btn btn-dark rounded-0\" type=\"button\" id=\"search\">\n                    Lorem ipsum\n              </button>\n            </div>\n          </div>\n          </div>\n        </div>\n    </div> */}\n    </>\n  );\n}\n\nexport default Products;\n"],"mappings":"0YAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,WAAU,KAAM,6BAA6B,CACpD,MAAOC,QAAO,KAAM,0BAA0B,CAAC,6IAE/C,QAASC,SAAQ,EAAG,CAClB,cAAgCL,QAAQ,CAAC,EAAE,CAAC,wCAArCM,QAAQ,eAAEC,WAAW,eAC5B,eAAoCP,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAAzCQ,UAAU,eAAEC,aAAa,eAChC,eAAgCT,QAAQ,CAAC,KAAK,CAAC,yCAAxCU,SAAS,eAAEC,UAAU,eAE5B,GAAMC,YAAW,4FAAG,wKAAOC,IAAI,+CAAG,CAAC,CACjCF,UAAU,CAAC,IAAI,CAAC,uBACSV,MAAK,CAACa,GAAG,mBACrBC,OAAO,CAACC,GAAG,CAACC,kBAAkB,2BAAkBJ,IAAI,EAChE,QAFKK,UAAU,eAGhBC,OAAO,CAACC,GAAG,CAACF,UAAU,CAAC,CACvBX,WAAW,CAACW,UAAU,CAACG,IAAI,CAACf,QAAQ,CAAC,CACrCG,aAAa,CAACS,UAAU,CAACG,IAAI,CAACb,UAAU,CAAC,CACzCG,UAAU,CAAC,KAAK,CAAC,sDAClB,kBATKC,YAAW,0CAShB,CAEDb,SAAS,CAAC,UAAM,CACda,WAAW,CAAC,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,sCACA,aAAK,SAAS,CAAC,6BAA6B,wBAC1C,KAAC,OAAO,EAAC,SAAS,CAAEF,SAAU,EAAE,cAChC,YAAK,SAAS,CAAC,KAAK,uBA8DhB,aAAK,SAAS,CAAC,WAAW,wBACxB,YAAK,SAAS,CAAC,KAAK,UACjBJ,QAAQ,CAACgB,GAAG,CAAC,SAACC,OAAO,CAAG,CACvB,mBACA,YAAK,SAAS,CAAC,UAAU,uBACvB,aAAK,SAAS,CAAC,wDAAwD,wBACrE,YAAK,GAAG,CAAEA,OAAO,CAACC,QAAS,CAAC,SAAS,CAAC,sCAAsC,CAAC,MAAM,CAAE,GAAI,CAAC,GAAG,CAAC,KAAK,EAAE,cACrG,aAAK,SAAS,CAAC,eAAe,wBAC5B,WAAI,SAAS,CAAC,WAAW,uBACvB,KAAC,IAAI,EAAC,EAAE,oBAAcD,OAAO,CAACE,EAAE,CAAG,UAAEF,OAAO,CAACG,KAAK,EAAQ,EACrD,cACP,WAAG,SAAS,CAAC,gBAAgB,WAAwB,GAAC,2BAAM,SAAS,CAAC,aAAa,UAAEH,OAAO,CAACI,KAAK,EAAQ,GAAI,GAE1G,GACF,EAVuBJ,OAAO,CAACE,EAAE,CAWnC,CACR,CAAC,CAAC,EACE,cACN,YAAK,SAAS,CAAC,+BAA+B,uBAC9C,KAAC,UAAU,EAAC,UAAU,CAAEjB,UAAW,CAAC,UAAU,CAAEI,WAAY,EAAG,EACzD,GACF,EACF,GACJ,EAgBH,CAEP,CAEA,cAAeP,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}