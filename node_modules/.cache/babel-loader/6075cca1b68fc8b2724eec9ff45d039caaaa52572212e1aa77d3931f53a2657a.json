{"ast":null,"code":"// import { Link, useOutletContext, useNavigate } from 'react-router-dom';\n// import { useForm } from 'react-hook-form';\n// import { Input } from '../../components/FormElements';\n// import axios from 'axios';\n\n// function Checkout() {\n//   const { cartData } = useOutletContext();\n//   const {\n//     register,\n//     handleSubmit,\n//     formState: { errors },\n//   } = useForm({\n//     mode: 'onTouched',\n//   });\n//   const navigate = useNavigate();\n\n//   const onSubmit = async (data) => {\n//     const { name, email, tel, address } = data;    \n//     const form = {\n//       data: {\n//         user: {\n//           name,\n//           email,\n//           tel,\n//           address,\n//         },\n//       },\n//     };\n//     const res = await axios.post(\n//       `/v2/api/${process.env.REACT_APP_API_PATH}/order`,\n//       form,\n//     );\n//     console.log(res);\n//     navigate(`/success/${res.data.orderId}`)\n//   };\n\n//   return (\n//     <div className='bg-light pt-5 pb-7 full-height'>\n//       <div className='container'>\n//         <div className='row justify-content-center flex-md-row flex-column-reverse'>\n//           <form className='col-md-6' onSubmit={handleSubmit(onSubmit)}>\n//             <div className='bg-white p-4'>\n//               <h4 className='fw-bold'>外送資料</h4>\n//               <div className='mb-2'>\n//                 <Input\n//                   id='email'\n//                   labelText='Email'\n//                   type='email'\n//                   errors={errors}\n//                   register={register}\n//                   rules={{\n//                     required: 'Email 為必填',\n//                     pattern: {\n//                       value: /^\\S+@\\S+$/i,\n//                       message: 'Email 格式不正確',\n//                     },\n//                   }}\n//                 ></Input>\n//               </div>\n//               <div className='mb-2'>\n//                 <Input\n//                   id='name'\n//                   type='text'\n//                   errors={errors}\n//                   labelText='使用者名稱'\n//                   register={register}\n//                   rules={{\n//                     required: '使用者名稱為必填',\n//                     maxLength: {\n//                       value: 10,\n//                       message: '使用者名稱長度不超過 10',\n//                     },\n//                   }}\n//                 ></Input>\n//               </div>\n//               <div className='mb-2'>\n//                 <Input\n//                   id='tel'\n//                   labelText='電話'\n//                   type='tel'\n//                   errors={errors}\n//                   register={register}\n//                   rules={{\n//                     required: '電話為必填',\n//                     minLength: {\n//                       value: 6,\n//                       message: '電話不少於 6 碼',\n//                     },\n//                     maxLength: {\n//                       value: 12,\n//                       message: '電話不超過 12 碼',\n//                     },\n//                   }}\n//                 ></Input>\n//               </div>\n//               <div className='mb-2'>\n//                 <Input\n//                   id='address'\n//                   labelText='地址'\n//                   type='address'\n//                   errors={errors}\n//                   register={register}\n//                   rules={{\n//                     required: '地址為必填',\n//                   }}\n//                 ></Input>\n//               </div>\n//             </div>\n//             <div className='d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center align-items-end w-100'>\n//               <Link className='text-dark mt-md-0 mt-3' to='/cart'>\n//                 <i className='bi bi-chevron-left me-2'></i> 繼續點餐\n//               </Link>\n//               <button\n//                 type='submit'\n//                 className='btn btn-dark py-3 px-7 rounded-0'\n//               >\n//                 送出表單\n//               </button>\n//             </div>\n//           </form>\n//           <div className='col-md-4'>\n//             <div className='border p-4 mb-4'>\n//               <h4 className='mb-4'>選購餐點</h4>\n//               {cartData?.carts?.map((item) => {\n//                 return (\n//                   <div className='d-flex' key='item.id'>\n//                     <img\n//                       src={item.product.imageUrl}\n//                       alt=''\n//                       className='me-2'\n//                       style={{\n//                         width: '48px',\n//                         height: '48px',\n//                         objectFit: 'cover',\n//                       }}\n//                     />\n//                     <div className='w-100'>\n//                       <div className='d-flex justify-content-between fw-bold'>\n//                         <p className='mb-0'>{item.product.title}</p>\n//                         <p className='mb-0'>x{item.qty}</p>\n//                       </div>\n//                       <div className='d-flex justify-content-between'>\n//                         <p className='text-muted mb-0'>\n//                           <small>NT$ {item.product.price}</small>\n//                         </p>\n//                         <p className='mb-0'>NT$ {item.final_total}</p>\n//                       </div>\n//                     </div>\n//                   </div>\n//                 );\n//               })}\n//               <div className='d-flex justify-content-between mt-4'>\n//                 <p className='mb-0 h4 fw-bold'>Total</p>\n//                 <p className='mb-0 h4 fw-bold'>NT$ {cartData.final_total}</p>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Checkout;","map":{"version":3,"names":[],"sources":["C:/Users/A3423/Desktop/Project/react-cra/src/pages/front/Checkout.js"],"sourcesContent":["// import { Link, useOutletContext, useNavigate } from 'react-router-dom';\n// import { useForm } from 'react-hook-form';\n// import { Input } from '../../components/FormElements';\n// import axios from 'axios';\n\n// function Checkout() {\n//   const { cartData } = useOutletContext();\n//   const {\n//     register,\n//     handleSubmit,\n//     formState: { errors },\n//   } = useForm({\n//     mode: 'onTouched',\n//   });\n//   const navigate = useNavigate();\n\n//   const onSubmit = async (data) => {\n//     const { name, email, tel, address } = data;    \n//     const form = {\n//       data: {\n//         user: {\n//           name,\n//           email,\n//           tel,\n//           address,\n//         },\n//       },\n//     };\n//     const res = await axios.post(\n//       `/v2/api/${process.env.REACT_APP_API_PATH}/order`,\n//       form,\n//     );\n//     console.log(res);\n//     navigate(`/success/${res.data.orderId}`)\n//   };\n\n//   return (\n//     <div className='bg-light pt-5 pb-7 full-height'>\n//       <div className='container'>\n//         <div className='row justify-content-center flex-md-row flex-column-reverse'>\n//           <form className='col-md-6' onSubmit={handleSubmit(onSubmit)}>\n//             <div className='bg-white p-4'>\n//               <h4 className='fw-bold'>外送資料</h4>\n//               <div className='mb-2'>\n//                 <Input\n//                   id='email'\n//                   labelText='Email'\n//                   type='email'\n//                   errors={errors}\n//                   register={register}\n//                   rules={{\n//                     required: 'Email 為必填',\n//                     pattern: {\n//                       value: /^\\S+@\\S+$/i,\n//                       message: 'Email 格式不正確',\n//                     },\n//                   }}\n//                 ></Input>\n//               </div>\n//               <div className='mb-2'>\n//                 <Input\n//                   id='name'\n//                   type='text'\n//                   errors={errors}\n//                   labelText='使用者名稱'\n//                   register={register}\n//                   rules={{\n//                     required: '使用者名稱為必填',\n//                     maxLength: {\n//                       value: 10,\n//                       message: '使用者名稱長度不超過 10',\n//                     },\n//                   }}\n//                 ></Input>\n//               </div>\n//               <div className='mb-2'>\n//                 <Input\n//                   id='tel'\n//                   labelText='電話'\n//                   type='tel'\n//                   errors={errors}\n//                   register={register}\n//                   rules={{\n//                     required: '電話為必填',\n//                     minLength: {\n//                       value: 6,\n//                       message: '電話不少於 6 碼',\n//                     },\n//                     maxLength: {\n//                       value: 12,\n//                       message: '電話不超過 12 碼',\n//                     },\n//                   }}\n//                 ></Input>\n//               </div>\n//               <div className='mb-2'>\n//                 <Input\n//                   id='address'\n//                   labelText='地址'\n//                   type='address'\n//                   errors={errors}\n//                   register={register}\n//                   rules={{\n//                     required: '地址為必填',\n//                   }}\n//                 ></Input>\n//               </div>\n//             </div>\n//             <div className='d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center align-items-end w-100'>\n//               <Link className='text-dark mt-md-0 mt-3' to='/cart'>\n//                 <i className='bi bi-chevron-left me-2'></i> 繼續點餐\n//               </Link>\n//               <button\n//                 type='submit'\n//                 className='btn btn-dark py-3 px-7 rounded-0'\n//               >\n//                 送出表單\n//               </button>\n//             </div>\n//           </form>\n//           <div className='col-md-4'>\n//             <div className='border p-4 mb-4'>\n//               <h4 className='mb-4'>選購餐點</h4>\n//               {cartData?.carts?.map((item) => {\n//                 return (\n//                   <div className='d-flex' key='item.id'>\n//                     <img\n//                       src={item.product.imageUrl}\n//                       alt=''\n//                       className='me-2'\n//                       style={{\n//                         width: '48px',\n//                         height: '48px',\n//                         objectFit: 'cover',\n//                       }}\n//                     />\n//                     <div className='w-100'>\n//                       <div className='d-flex justify-content-between fw-bold'>\n//                         <p className='mb-0'>{item.product.title}</p>\n//                         <p className='mb-0'>x{item.qty}</p>\n//                       </div>\n//                       <div className='d-flex justify-content-between'>\n//                         <p className='text-muted mb-0'>\n//                           <small>NT$ {item.product.price}</small>\n//                         </p>\n//                         <p className='mb-0'>NT$ {item.final_total}</p>\n//                       </div>\n//                     </div>\n//                   </div>\n//                 );\n//               })}\n//               <div className='d-flex justify-content-between mt-4'>\n//                 <p className='mb-0 h4 fw-bold'>Total</p>\n//                 <p className='mb-0 h4 fw-bold'>NT$ {cartData.final_total}</p>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Checkout;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}